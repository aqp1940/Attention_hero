<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<title>Attention Hero</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  :root{
    --bg:#0f0f12;
    --panel:#1a1a1f;
    --accent: #00e5ff;
    --hud:#ddd;
  }


  body{
    margin:0;
    min-height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    background: radial-gradient(circle at 20% 10%, #12121a 0%, #0b0b0d 40%, #050506 100%);
    color:var(--hud);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    padding:18px;
  }

  h1{ margin:8px 0 2px; font-size:22px; }
  p#instruction{ margin:0 0 12px; color:#cfeef7; }

#medal {
  position: fixed;
  top: 20px;
  right: 20px;
  font-size: 24px;
  color: gold;
  background: rgba(0,0,0,0.6);
  padding: 12px 18px;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
  z-index: 1000; /* siempre encima de todo */
}


  #gameWrap{ width:680px; max-width:96vw; display:flex; flex-direction:column; align-items:center; gap:12px; }
  #topRow{ width:100%; display:flex; justify-content:space-between; align-items:center; gap:12px; }

  #startBtn{
    background:linear-gradient(180deg,#2a2a2f,#1b1b1f);
    border:1px solid rgba(255,255,255,0.03);
    color: #fff;
    padding:10px 16px;
    border-radius:8px;
    cursor:pointer;
    font-size:15px;
  }

  #hud{
    color:var(--hud);
    font-size:15px;
    display:flex;
    gap:14px;
    align-items:center;
  }

  #game{
    width:680px;
    max-width:96vw;
    height:500px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:10px;
    border:1px solid rgba(255,255,255,0.03);
    box-shadow: 0 6px 30px rgba(0,0,0,0.6);
    display:flex;
    position:relative;
    overflow:hidden;
  }

  .lane{
    flex:1;
    border-left:1px solid rgba(255,255,255,0.02);
    border-right:1px solid rgba(255,255,255,0.02);
    position:relative;
    overflow:hidden;
  }

  .figure{
    width:40px;
    height:40px;
    position:absolute;
    top:-60px;
    left:50%;
    transform:translateX(-50%);
    display:flex;
    align-items:center;
    justify-content:center;
    pointer-events:none;
  }

  svg.fshape{ width:40px; height:40px; display:block; }

  #impactZone{
    position:absolute;
    bottom:30px;
    left:0;
    width:100%;
    height:180px;
    background: linear-gradient(0deg, rgba(0,230,255,0.06) 0%, rgba(0,230,255,0.02) 100%);
    border-top:2px solid rgba(0,230,255,0.12);
    border-bottom:2px dashed rgba(0,230,255,0.08);
    pointer-events:none;
  }

  #buttonsRow{
    width:680px;
    max-width:96vw;
    display:flex;
    gap:16px;
    justify-content:space-between;
    margin-top:6px;
  }

  .shapeButton{
    width:100px;
    height:100px;
    min-width:100px;
    min-height:100px;
    border-radius:50%;
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.18));
    display:flex;
    align-items:center;
    justify-content:center;
    border:2px solid rgba(255,255,255,0.04);
    cursor:pointer;
    transition: transform 0.08s ease, box-shadow 0.08s;
    box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  }

  .shapeButton:active{ transform: translateY(3px) scale(0.99); }

  #message{ margin-top:10px; font-size:18px; color:gold; height:28px; }

  @media (max-width:700px){
    #game{ height:420px; }
    #impactZone{ height:130px; bottom:20px; }
    .shapeButton{ width:80px; height:80px; min-width:80px; min-height:80px; }
    .figure{ width:34px; height:34px; }
    svg.fshape{ width:34px; height:34px; }
  }

/* Nuevo estilo para textos de informaci√≥n */
#gameInfo {
  width: 100%;
  position: relative; /* para poder posicionar elementos dentro */
  margin-bottom: 12px;
}

#courseName {
  position: absolute;
  top: 0;
  right: 0;
  color: #ffffff; /* blanco */
  font-weight: bold;
  font-size: 14px;
}

#training {
  text-align: center;
  color: #8cd2e3;
  font-size: 16px;
}

</style>
</head>
<body>
<h1> Attention Hero</h1>

<!-- Informaci√≥n del juego -->

<!-- Agrega esto justo dentro de <body>, arriba de #gameWrap -->
<div id="gameInfo">
  <div id="courseName">Curso de Neuropsicolog√≠a ‚Äî Versi√≥n 1.1</div>

  <div id="training">Entrenamiento de la atenci√≥n focalizada, selectiva y orientaci√≥n atencional</div>
</div>

<div id="medal" style="display:none;">
  üèÖ ¬°Ganaste la medalla!
</div>


<div id="gameWrap">
  <div id="topRow">
    <button id="startBtn">Comenzar</button>
    <div id="hud" style="display:none;">
      <div>Puntos: <strong id="score">0</strong></div>
      <div>Vidas: <strong id="lives">5</strong></div>
    </div>
  </div>

  <div id="game" style="display:none;">
    <div id="impactZone"></div>
    <div class="lane" id="lane1"></div>
    <div class="lane" id="lane2"></div>
    <div class="lane" id="lane3"></div>
    <div class="lane" id="lane4"></div>
  </div>

  <div id="buttonsRow" style="display:none;">
    <button class="shapeButton" onclick="pressButton('triangle','blue')">
      <svg class="fshape" viewBox="0 0 40 40"><polygon points="20,6 34,32 6,32" fill="#0b7bdc"/></svg>
    </button>
    <button class="shapeButton" onclick="pressButton('circle','red')">
      <svg class="fshape" viewBox="0 0 40 40"><circle cx="20" cy="20" r="16" fill="#e23b3b"/></svg>
    </button>
    <button class="shapeButton" onclick="pressButton('square','green')">
      <svg class="fshape" viewBox="0 0 40 40"><rect x="6" y="6" width="28" height="28" rx="4" fill="#2bbf59"/></svg>
    </button>
    <button class="shapeButton" onclick="pressButton('diamond','orange')">
      <svg class="fshape" viewBox="0 0 40 40"><polygon points="20,6 34,20 20,34 6,20" fill="#ff9a2a"/></svg>
    </button>
  </div>

  <div id="message"></div>
</div>

<script>
let score = 0, lives = 5, running = false;
const TARGET_SHAPE = 'triangle';
const TARGET_COLOR = 'blue';
const WIN_SCORE = 10;
const MAX_LIVES = 5;
const CONTACT_TOP = 280, CONTACT_BOTTOM = 450;

function colorToHex(name){
  switch(name){
    case 'red': return '#e23b3b';
    case 'green': return '#2bbf59';
    case 'blue': return '#0b7bdc';
    case 'orange': return '#ff9a2a';
    default: return name;
  }
}

function createFigureElement(shape,color){
  const container=document.createElement('div');
  container.className='figure';
  container.dataset.shape=shape;
  container.dataset.color=color;
  const svgns="http://www.w3.org/2000/svg";
  const svg=document.createElementNS(svgns,'svg');
  svg.setAttribute('class','fshape'); svg.setAttribute('viewBox','0 0 40 40');
  if(shape==='circle'){const c=document.createElementNS(svgns,'circle'); c.setAttribute('cx','20'); c.setAttribute('cy','20'); c.setAttribute('r','16'); c.setAttribute('fill',colorToHex(color)); svg.appendChild(c);}
  else if(shape==='square'){const r=document.createElementNS(svgns,'rect'); r.setAttribute('x','6'); r.setAttribute('y','6'); r.setAttribute('width','28'); r.setAttribute('height','28'); r.setAttribute('rx','4'); r.setAttribute('fill',colorToHex(color)); svg.appendChild(r);}
  else if(shape==='triangle'){const p=document.createElementNS(svgns,'polygon'); p.setAttribute('points','20,6 34,32 6,32'); p.setAttribute('fill',colorToHex(color)); svg.appendChild(p);}
  else if(shape==='diamond'){const d=document.createElementNS(svgns,'polygon'); d.setAttribute('points','20,6 34,20 20,34 6,20'); d.setAttribute('fill',colorToHex(color)); svg.appendChild(d);}
  container.appendChild(svg);
  container.style.top='-60px';
  return container;
}

function spawnFigure(){
  if(!running) return;
  const shapes=['circle','square','triangle','diamond'];
  const colors=['red','green','blue','orange'];
  let shape,color;

  // 60% figuras coincidentes
  if(Math.random()<0.6){
    const options=[
      {shape:'triangle',color:'blue'},
      {shape:'circle',color:'red'},
      {shape:'square',color:'green'},
      {shape:'diamond',color:'orange'}
    ];
    const choice=options[Math.floor(Math.random()*options.length)];
    shape=choice.shape; color=choice.color;
  }else{
    shape=shapes[Math.floor(Math.random()*shapes.length)];
    color=colors[Math.floor(Math.random()*colors.length)];
  }

  const laneNum=Math.floor(Math.random()*4)+1;
  const lane=document.getElementById(`lane${laneNum}`);
  const fig=createFigureElement(shape,color);
  lane.appendChild(fig);
  let pos=-60;
  fig.style.top=pos+'px';
  const speed=3+Math.random()*3;
  const tick=setInterval(()=>{
    if(!running){clearInterval(tick); return;}
    pos+=speed;
    fig.style.top=pos+'px';
    if(pos>700){if(fig.parentElement) fig.remove(); clearInterval(tick);}
  },30);

  setTimeout(spawnFigure,500+Math.floor(Math.random()*300));
}

document.getElementById('startBtn').addEventListener('click',()=>{
  document.getElementById('game').style.display='flex';
  document.getElementById('buttonsRow').style.display='flex';
  document.getElementById('hud').style.display='flex';
  document.getElementById('startBtn').style.display='none';
  score=0; lives=MAX_LIVES; running=true;
  document.getElementById('score').innerText=score;
  document.getElementById('lives').innerText=lives;
  document.getElementById('message').innerText='';
  document.querySelectorAll('.figure').forEach(f=>f.remove());
  spawnFigure();
});

function pressButton(shape,color){
  if(!running) return;
  const allFigures=Array.from(document.querySelectorAll('.lane .figure'));
  const inZone=allFigures.map(f=>({el:f,top:parseInt(f.style.top)||-999}))
    .filter(o=>o.top>=CONTACT_TOP && o.top<=CONTACT_BOTTOM);

  if(inZone.length===0){lives--; flashMessage('-1 vida (no hab√≠a figura)',800); updateHUD(); checkLose(); return;}

  const matches=inZone.filter(o=>o.el.dataset.shape===shape && o.el.dataset.color===color);
  if(matches.length>0){matches.sort((a,b)=>b.top-a.top); matches[0].el.remove(); score++; flashMessage('+1 punto',700); updateHUD(); checkWin(); return;}

  inZone.sort((a,b)=>b.top-a.top); if(inZone[0] && inZone[0].el) inZone[0].el.remove();
  lives--; flashMessage('-1 vida (no coincide)',700); updateHUD(); checkLose();
}

function updateHUD(){document.getElementById('score').innerText=score; document.getElementById('lives').innerText=lives;}
let msgTimer=null; 
function flashMessage(text,ms=700){const el=document.getElementById('message'); el.innerText=text; if(msgTimer) clearTimeout(msgTimer); msgTimer=setTimeout(()=>{el.innerText='';},ms);}
function checkWin() {
  if(score >= WIN_SCORE){
    running = false;
    // mostrar medalla fija
    const medal = document.getElementById('medal');
    medal.style.display = 'block';
  }
}

function checkLose(){if(lives<=0){running=false; flashMessage('‚ùå Perdiste todas tus vidas');}}
window.pressButton=pressButton;
</script>
</body>
</html>
